<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBA Shot Selection</title>
    <link href="style.css" rel="stylesheet" />

    <!-- PyScript CSS -->
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">

    <!-- This script tag bootstraps PyScript -->
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
    <title>Shot chart comparison</title>
</head>
<body>
    
    <h1> NBA Shot Analysis</h1>

    <h3>Introduction</h3>

    <p> Throughout the NBA's history, the types and distances of shots taken
        have drastically changed over time. With the introduction of the 3-point
        line in 1979, the NBA opened up a new opportunity for scoring. Although it
        took decades for players and teams to take advantage of this means of
        scoring, recent years seemed to have shown the merit and upside of 
        utilizing the 3-point line. This also has become a large topic of discussion
        since and an analysis could prove to be insightful on potential future
        trends. </p>

    <p> In addition to understanding how the use of 3-point line has changed, we
        wanted to see how the shot selection or shot distance might impact a game.
        To guide our analysis, we broke down our tasks into 3 components:
        <ol>
            <li> Understanding the progression of the Three-Point Revolution </li>
            <li> Investigating other factors that might influence shot selection </li>
            <li> Determining if longer distance shots ultimately influence the outcome of the game </li>
          </ol>
    </p>

    <p>In our research into this topic, we found two reference papers that we found to be 
        relevant to our project. The first was 
        <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0128885">
            Basketball Shot Types and and Shot Success in Different Levels of Competitive Basketball
        </a> by Frane Erčulj and Erik Štrumbelj, where they go into different shot selections made by 
        players across different levels and leagues of basketball. Although the scope of this paper was 
        slightly different than this project, it offered interesting insights on the variety 
        of shot selections to be made and how the level and type of competition played into 
        that. Our second paper was <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3266291/">The Problem of 
            Shot Selection in Basketball</a>
        , written by Brian Skinner. Skinner’s paper was a little more relevant to our project, as he 
        attempts to create a theoretical model on shot likelihood depending on several factors.</p>
        
    <h3>Data</h3>

    <p> Our analysis utilized a series of datasets compiled by another 
        <a href="https://theccalderon.github.io/2019/12/11/scrapping-shots-basketball-reference.html">researcher</a> 
        scraping data from <a href="https://www.basketball-reference.com/">Basketball Reference</a>.
        Each dataset contained all shots taken over the course of a season,
        from the 2000-2001 season through the 2019-2020 season, with around 150,000
        records and 18 attributes per season's dataset. Each record represents a 
        single shot taken in a game, with attributes such as the a unique game ID, 
        the date of the game, and the play in which the shot was taken. However, for
        the use of our project and its visualizations, we used 9 of the 18 attributes,
        listed in detail in the following table:
    </p>  


        <div class="center">
        <table class="tg">
            <thead>
              <tr>
                <th class="tg-0lax">Variable Name</th>
                <th class="tg-0lax">Details</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="tg-0lax">x</td>
                <td class="tg-0lax">X position of the shot taken in relevance to a shot chart visualization</td>
              </tr>
              <tr>
                <td class="tg-0lax">y</td>
                <td class="tg-0lax">Y position of the shot taken in relevance to a shot chart visualization</td>
              </tr>
              <tr>
                <td class="tg-0lax">time_remaining</td>
                <td class="tg-0lax">Amount of time remaining in the quarter</td>
              </tr>
              <tr>
                <td class="tg-0lax">quarter</td>
                <td class="tg-0lax">Quarter in which the shot was taken</td>
              </tr>
              <tr>
                <td class="tg-0lax">shots_by</td>
                <td class="tg-0lax">Name of the player taking the shot</td>
              </tr>
              <tr>
                <td class="tg-0lax">outcome</td>
                <td class="tg-0lax">Result of the shot (made/missed)</td>
              </tr>
              <tr>
                <td class="tg-0lax">attempt</td>
                <td class="tg-0lax">Shot type attempted (2-pointer/3-pointer)</td>
              </tr>
              <tr>
                <td class="tg-0lax">distance</td>
                <td class="tg-0lax">Distance at which shot was taken (ft)</td>
              </tr>
              <tr>
                <td class="tg-0lax">team</td>
                <td class="tg-0lax">Team of the player shooting</td>
              </tr>
            </tbody>
            </table>
        </div>
        <p> Given this data, we needed to clean some of the columns to be able to be 
            manipulated and analyzed to make better visualizations. For example, we changed 
            the 'distance' column from '11ft' format to just a numeric value and filtered
            out some data inconsistencies differing from the play of the game. 
        </p>
        <div class = 'image'>
            <img src="visualizations/shots_attempt.png" width="60%" height="500px" frameborder="0"></img>
        </div>  

        <p>To make a better data visualization, we remove the Alaska and Hawaii
            from the data. Following is an interactive map for the 
            lower 48 states in US. User can zoom in the map. The color
            indicates the unemployment rate for each state. When click any 
            state, other social factors will be revealed for the state. </p>
        
        <div class="container">

            <!-- <div class = 'center'>
                <section class="pyscript">
                    <py-script type="py" src="./shot_chart_comparison.py" config="./pyscript.toml"></py-script>
                </section>
                
            </div> -->
            <div class = 'center'>
                <iframe src="shot_chart.html" width="1010px" height="800px" frameborder="0"></iframe>
            </div>
        </div>
            
            
            
            <p>In general, west coast states tend to have higher 
                unemployment rate. On the east coast, West virginia 
                and New York state tend to have higher unemplyment rate
                than the others. In the south, Mississippi and Louisiana
                are the ones with the much higher unemplyment rate.
            </p>

        <h3>
            Stacked Bar Chart 
        </h3>
          
        <div class = 'container'>
            <div class = 'center'>
                <svg id = "plot"></svg>
                <script src='https://d3js.org/d3.v7.min.js'></script>
                <script src='main.js'></script>
            </div>
        </div>
        <div class="text">
            <p>
                For the side by side bar plot, we selected to examine the New York Knicks because there is a wide variety of players 
                who play different positions. It also provided more insights into outliers that exist in terms of 
                three point shots attempted. The side by side box plot allows us to make a better comparison and 
                understand the skew of shots attempted for both categories. 

            </p>
            <p>
                The bar plot demonstrated that almost every player contributes to shooting three pointers. 
                One insight is that the five players with the most three pointers: Julius Randle, RJ Barrett, 
                Bobby Portis, Marcus Morris, and Kevin Knox are all forwards. 
                Forward, unlike guards, traditionally only take midrange shots, layups, or dunks. Therefore, 
                irregardless of position, every player takes three pointers. This is especially apparent 
                when the offense of the team primarily runs through a specific player.  However, there will
                 always be outliers such as Mitchell Robinson who has taken zero  three point shots. 
                 Ultimately the role of such centers is to grab rebounds and make defensive plays and 
                 offense isn’t their role
            
            </p>
        </div>
        
        <h3>Shot Distances Over Time</h3>

        <div class = 'text'>
            <p>
                To see how the shot distances have changed over time, we can take a look into
                how each team's average shot distance of a season has changed from 2001 to 
                2019. Generally, for each team, it is clear that over the past two decades,
                shots have gone further and further on average. A great case of this is the
                Golden State Warriors, who have been a frontrunner in revolutionizing the 3-point
                game in the mid- to late-2010s.
            </p>
        </div>     
        <div class = 'center'>
            <iframe src="shotcomparison.html" width="85%" height="550px" frameborder="0"></iframe>
        </div>
        <div class = 'container'>
            <div class = 'text'>
                <p>Moreover, we also want to examine the relationship between
                    unemployment rate and other social factors in the data. All 
                    features are numerical thus we firts create a correlation
                    plot to examine whether there are linear relationship between 
                    unemployment rate with other social factors. Notice that if 
                    the correlation is small, it only means that there is no potential
                    linear relationship between two features. 
                </p>
                <p>
                    Based on the correlation plot, among all the features, poverty 
                    has the strongest correlation with the unemployment rate since
                    they are both related to the economics. The percentage of single 
                    parents is the second important feature which inidicates the 
                    stability of family is also strongly related to the job market. 
                    The increase of unemployment rate may also related to the increase 
                    of violent crime and murder rate but has a negative relationship
                    with education indicators, like the percentage of people who go to
                    high school and college. The only variable that has no direct linear
                    relation with the unemployment rate is Metropolitan, which means the 
                    percent of residents living in a metropolitan area. 
                </p>
            </div>
            <div class = 'image'>
                <img src="visualizations/timeleft_hist.png" width="100%" height="500px" frameborder="0"></img>
            </div>   
        </div>

        <p>We have also create an interactive scatter plot so that 
            our users can select a couple of states within
            a certain range of unemployment rate and to see how the 
            other factors may be related here. 
        </p>

        <div class = 'center'>
            <!-- <iframe src="scatter.html" width="85%" height="550px" frameborder="0"></iframe> -->
        </div>

        <h3>Compare MA to the other states</h3>

        <p>
            Since we are in MA, thus we want to take a closer look between
            MA and other states. We create the following interactive plot
            such that user can choose another state to compare with MA and 
            show the bar plot on each factors. 
        </p>
        <div class="container">
            <div class = 'center'>
                <iframe src="boxplot.html" width="95%" height="500px" frameborder="0"></iframe>
            </div>

        </div>


        <p> We have created a side-by-side bar plot comparing the Milwaukee Buck and the 
            Cleveland Cavaliers, the best and worst teams in the Eastern Conference, 
            respectively. This comparison was an exploration on how taking 2-pointers
            vs. 3-pointers may contribute to wins for a team. Upon analyzing this visualization,
            although the percentage of made 3-pointers was fairly similar between both teams at
            around 35%, the Bucks made a significantly higher amount of 3-pointers than the 
            Cavaliers. Although it is not a significant indicator of contributing to games won,
            this could be a fair determinant of winning. 
        </p>
        


        <div class = 'center'>
            <iframe src="bucksvcavs.html" width="95%" height="500px" frameborder="0"></iframe>
        </div>

        <h3>Summary and additional work</h3>

        <p>
            In this visualization analysis, we try to explore the US 
            unemployment rate across states. We also examine the relation
            between unemployment rate and other social factors. 
        </p>
        <p>
            Unfortunately, this is the 2010 data thus may be different 
            than the current economics status. Also, unemployment rate 
            may fluctuate seasonally thus adding a time series analysis
            will be more informative. 
        </p>

        <p>If you are interested in the project and want to share more
            opinions or resource about the project, please contact:
            Xiaoyi Yang (xiaoy.yang@northeastern.edu)
        </p>

</body>
</html>